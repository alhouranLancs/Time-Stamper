<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Camera Timestamp Stamper</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- App -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=VT323&family=Share+Tech+Mono&family=Press+Start+2P&family=Orbitron:wght@400;700&display=swap"
        rel="stylesheet" />

    <!-- Libraries -->
    <script defer src="https://cdn.jsdelivr.net/npm/exifreader@4.33.1/dist/exif-reader.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>

    <script defer src="app.js"></script>
</head>

<body>
    <main class="container">
        <h1>Camera Timestamp Stamper</h1>

        <section class="panel">
            <label class="file">
                <span>Select images</span>
                <input id="files" type="file" accept="image/*" multiple />
            </label>

            <!-- BASIC CONTROLS (always visible) -->
            <div class="row">
                <label>
                    Timestamp source
                    <select id="tsSource">
                        <option value="exif" selected>EXIF DateTimeOriginal (fallback: file modified)</option>
                        <option value="modified">File modified date</option>
                        <option value="now">Current time (now)</option>
                    </select>
                </label>

                <label>
                    Format
                    <select id="outFormat">
                        <option value="same" selected>Same as input</option>
                        <option value="png">PNG (lossless)</option>
                        <option value="jpeg">JPEG (high quality)</option>
                    </select>
                </label>

                <label>
                    Timestamp style
                    <select id="tsStyle">
                        <option value="mmddyy" selected>MM/DD/YY HH:MM</option>
                        <option value="ddmmyy">DD/MM/YY HH:MM</option>
                        <option value="iso">YYYY-MM-DD HH:MM</option>
                    </select>
                </label>
            </div>

            <!-- ADVANCED MENU (hidden by default) -->
            <details id="advanced" class="advanced">
                <summary>Advanced</summary>

                <div class="row">
                    <label>
                        Stamp font
                        <select id="stampFont">
                            <option value="VT323" selected>VT323 (OSD)</option>
                            <option value="Share Tech Mono">Share Tech Mono (mono)</option>
                            <option value="Press Start 2P">Press Start 2P (pixel)</option>
                            <option value="Orbitron">Orbitron (digital)</option>
                            <option value="system">System monospace</option>
                        </select>
                    </label>

                    <label>
                        Font weight
                        <select id="fontWeight">
                            <option value="400" selected>Normal</option>
                            <option value="700">Bold</option>
                        </select>
                    </label>

                    <label>
                        Position
                        <select id="stampPos">
                            <option value="br" selected>Bottom-right</option>
                            <option value="bl">Bottom-left</option>
                            <option value="tr">Top-right</option>
                            <option value="tl">Top-left</option>
                        </select>
                    </label>
                </div>

                <div class="row">
                    <label>
                        Size (% of image width)
                        <input id="sizePct" type="number" min="1" max="12" step="0.5" value="4.5" />
                    </label>

                    <label>
                        Margin (% of image width)
                        <input id="marginPct" type="number" min="0" max="10" step="0.5" value="2.0" />
                    </label>

                    <label>
                        Orange color
                        <input id="orange" type="text" value="#ff8a00" />
                    </label>
                </div>

                <div class="row">
                    <label>
                        Outline thickness (relative)
                        <input id="outlinePct" type="number" min="0" max="30" step="1" value="12" />
                    </label>

                    <label>
                        Fill opacity (0–1)
                        <input id="fillAlpha" type="number" min="0" max="1" step="0.05" value="1" />
                    </label>

                    <label>
                        Background box
                        <select id="bgBox">
                            <option value="off" selected>Off</option>
                            <option value="on">On</option>
                        </select>
                    </label>
                </div>

                <div class="row">
                    <label>
                        Background opacity (0–1)
                        <input id="bgAlpha" type="number" min="0" max="1" step="0.05" value="0.35" />
                    </label>

                    <label>
                        Shadow
                        <select id="shadow">
                            <option value="on" selected>On</option>
                            <option value="off">Off</option>
                        </select>
                    </label>``

                    <label>
                        Shadow strength (relative)
                        <input id="shadowPct" type="number" min="0" max="30" step="1" value="8" />
                    </label>
                </div>
            </details>


            <div class="actions">
                <button id="process" disabled>Process</button>
                <button id="downloadZip" disabled>Download ZIP</button>
                <span id="status" class="status"></span>
            </div>

            <p class="note">
                Privacy: images are processed locally in your browser. Nothing is uploaded.
            </p>
        </section>

        <section class="panel">
            <h2>Results</h2>
            <div id="results" class="results"></div>
        </section>
    </main>
    <div class="page-version" id="pageVersion"></div>


</body>

</html>